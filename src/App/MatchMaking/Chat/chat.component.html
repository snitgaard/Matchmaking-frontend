<body>
<div class="image" fxLayout="row" fxFlex>
  <div fxLayout="column" fxFlex="20" style="padding: 20px" fxLayoutGap="10px">
    <mat-card fxFlex class="example-card">
      <mat-card-header>
        <h5 style="font-size: 20px" class="black"> Clients Online</h5>
      </mat-card-header>
      <mat-card-content>
        <div *ngIf="users$ | async as users">
          <ul>
            <li class="black" *ngFor="let user of users">
              {{user.username}}
            </li>
          </ul>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <div fxLayout="column" fxFlex="80" *ngIf="messages$ | async as messages">
    <mat-card fxFlex fxLayout="column" class="example-card">
      <mat-card-header>
        <h1 class="black" *ngFor="let message of messages$ | async"> Welcome {{message.user?.username}} </h1>
      </mat-card-header>
      <mat-card-content fxFlex fxLayout="column">
        <mat-list fxFlex class="scroll">
          <mat-list-item *ngFor="let message of messages">
            <mat-icon class="black" mat-list-icon>face</mat-icon>
            <div style="color: midnightblue" mat-line>{{message.user?.username}}</div>
            <div style="color: black" mat-line>{{message?.message}}</div>
            <div style="color: black"> {{message.date | date: 'hh:mm'}} </div>
            <mat-divider></mat-divider>
          </mat-list-item>
        </mat-list>
      </mat-card-content>
      <mat-card-actions>
        <mat-form-field fxFlex>
          <mat-label class="black">Enter Message</mat-label>
          <input matInput type="text">
          <button mat-button matSuffix mat-icon-button aria-label="Clear">
            <mat-icon style="font-size: 20px" class="black">sendMessage</mat-icon>
          </button>
        </mat-form-field>
      </mat-card-actions>

      <mat-card-footer fxFlex="30px">
      </mat-card-footer>
    </mat-card>
  </div>
</div>
</body>

<div *ngIf="messages$ | async as messages">
  <h5 *ngFor="let message of messages">
    <h1> {{message?.message}} </h1>
  </h5>
</div>


<div *ngIf="users$ | async as users">
  <h5 *ngFor="let user of users">
    <h1>{{user?.username}}</h1>
  </h5>
</div>
