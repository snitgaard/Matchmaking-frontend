<div *ngIf="currentMatch$ | async as match" class="box image" fxLayout="row" fxFlex>
  <div fxFlex="20" style="padding: 50px" fxLayoutGap="10px">
    <mat-card fxFlex class="example-card">
      <mat-card-header>
        <h5 style="font-size: 20px" class="black"> Team 1</h5>
      </mat-card-header>
      <mat-card-content *ngIf="match.matchResults && match.matchResults.length > 0">
        <div>
          <ul>
            <li>
              <h1>
                {{match.matchResults[0]?.user?.username}}
              </h1>
            </li>
          </ul>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
  <div *ngIf="match.hasEnded == true">
    <h1> Hej :) </h1>
  </div>
  <div class="center" *ngIf="loggedInUser$ | async as user">
    <div *ngIf="user.id == match.matchResults[0].user.id && match.matchResults.length == 2">
      <h1 class="text-color">
        Select your result
      </h1>
      <div *ngIf="currentMatchResults$ | async as results">
        <mat-form-field appearance="fill">
          <mat-label class="text-color">Winning user</mat-label>
          <mat-select [(value)]="selectedResult">
            <mat-option *ngFor="let result of results" [value]="result">
              {{result.user.username}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <button (click)="endMatch()">Select Winner</button>
      </div>
    </div>
  </div>
  <div class="push" fxFlex="20" style="padding: 50px" fxLayoutGap="10px">
    <mat-card fxFlex class="example-card">
      <mat-card-header>
        <h5 style="font-size: 20px" class="black"> Team 2</h5>
      </mat-card-header>
      <mat-card-content *ngIf="match.matchResults && match.matchResults.length > 0">
        <div>
          <ul>
            <li>
              <h1>
                {{match.matchResults[1]?.user?.username}}
              </h1>
            </li>
          </ul>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
